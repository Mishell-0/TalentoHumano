@model TalentoHumano.Models.Empleados

@{
    ViewBag.Title = "RolPagos";
}

<link href="~/Content/css/RolPagos.css" rel="stylesheet" />

<h2>Seleccionar Empleado para Rol de Pagos</h2>

@using (Html.BeginForm("RolPagos", "Administrador", FormMethod.Post))
{
    <div>
        @Html.DropDownList("id", ViewBag.Empleados as SelectList, "Seleccione un Empleado")
        <input type="submit" value="Cargar Datos" />
    </div>
}

@if (Model != null)
{
    <div id="detallesEmpleado">
        <h3>Detalles del Empleado</h3>
        <table class="detalle-empleado">
            <tbody>
                <tr>
                    <td><strong>Cédula:</strong></td>
                    <td>@Model.Cedula</td>
                    <td><strong>Nombre:</strong></td>
                    <td>@Model.Nombres</td>
                    <td><strong>Cargo:</strong></td>
                    <td>@Model.Cargo</td>
                    <td><strong>Días Laborados:</strong></td>
                    <td>@Model.DiasTrabajados</td>
                </tr>
                <tr>
                    <td colspan="8">&nbsp;</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>REMUNERACIÓN MENSUAL:</strong></td>
                    <td colspan="2">$ @Model.Sueldo.ToString("0.00")</td>
                    <td colspan="2"><strong>APORTACIÓN IESS (9,45%):</strong></td>
                    <td colspan="2">
                        $ @string.Format("{0:0.00}", Model.AportacionIESS)
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><strong>HORAS SUPLEMENTARIAS Y EXTRAORDINARIAS:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.HorasSuplementarias)</td>
                    <td colspan="2"><strong>ATRASOS/FALTAS:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.descuentoAtrasos)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>BONIFICACIÓN COMISIONES:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.Bonificaciones)</td>
                    <td colspan="2"><strong>IMPUESTO A LA RENTA:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.ImpuestoRenta)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>FONDO DE RESERVA:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.FondoReserva)</td>
                    <td colspan="2"><strong>PRÉSTAMO QUIROGRAFARIO:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.PrestamoQuirografario)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>ALIMENTACIÓN:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.Alimentacion)</td>
                    <td colspan="2"><strong>PRÉSTAMO HIPOTECARIO:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.PrestamoHipotecario)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>OTROS INGRESOS:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.OtrosIngresos)</td>
                    <td colspan="2"><strong>ANTICIPOS:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.Anticipos)</td>
                </tr>
                <tr>
                    <td colspan="2">&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                    <td colspan="2"><strong>OTROS DESCUENTOS:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.OtrosDescuentos)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>Total de Ingresos:</strong></td>
                    <td colspan="2">
                        $ @((Model.Sueldo + Model.HorasSuplementarias + Model.Bonificaciones + Model.FondoReserva + Model.Alimentacion + Model.OtrosIngresos).ToString("0.00"))
                    </td>
                    <td colspan="2"><strong>Total de Descuentos:</strong></td>
                    <td colspan="2">$ @string.Format("{0:0.00}", Model.TotalDescuentos)</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>Total A Recibir:</strong></td>
                    <td colspan="6">
                        $@(((Model.Sueldo + Model.HorasSuplementarias + Model.Bonificaciones + Model.FondoReserva + Model.Alimentacion + Model.OtrosIngresos) - (Model.AportacionIESS ?? 0) - (Model.MinutosAtraso ?? 0) - (Model.ImpuestoRenta ?? 0) - (Model.PrestamoQuirografario ?? 0) - (Model.PrestamoHipotecario ?? 0) - (Model.Anticipos ?? 0) - (Model.OtrosDescuentos ?? 0)).ToString("0.00"))
                    </td>
                </tr>

            </tbody>
        </table>
    </div>
}
